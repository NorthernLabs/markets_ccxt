import os
import sys
from pprint import pprint

root = os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))
sys.path.append(root + '/python')

# ----------------------------------------------------------------------------

# PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
# https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

# ----------------------------------------------------------------------------
import asyncio
import ccxt.async_support as ccxt  # noqa: E402

# AUTO-TRANSPILE #
async def example():
    exchange = ccxt.alephx({
        'apiKey': 'API_KEY',
        'secret': 'SECRET',
        'proxyUrl': 'http://localhost:4000',
        'urls': {
            'api': {
                'rest': '',
            },
        },
    })
    exchange.verbose = True  # uncomment for debugging purposes if necessary
    # 1. createOrder
    symbol = 'CLEO-ALEO'
    type = 'limit'
    side = 'buy'
    amount = 0.1
    price = 1.1
    params = {
        'timeInForce': 'gtc',
        'idempotencyKey': exchange.uuid(),
    }
    new_order = await exchange.create_order(symbol, type, side, amount, price, params)
    pprint(new_order)
    # 2. fetchOrders
    orders = await exchange.fetch_orders()
    pprint(orders)
    # 3. fetchOrder
    get_order = await exchange.fetch_order(new_order['id'])
    pprint(get_order)
    # 4. cancelOrder
    cancel_order = await exchange.cancel_order(new_order['id'])
    pprint(cancel_order)
    # 5. fetchMyTrades
    trades = await exchange.fetch_my_trades()
    pprint(trades)

    await exchange.close()


asyncio.run(example())
